const { chromium } = require('playwright');

(async () => {
  const browser = await chromium.launch({
    headless: false
  });
  const context = await browser.newContext();

  // Open new page
  const page = await context.newPage();

  // Go to https://www.wikipedia.org/
  await page.goto('https://www.wikipedia.org/');

  // Click strong:has-text("English")
  await page.locator('strong:has-text("English")').click();
  await page.waitForURL('https://en.wikipedia.org/wiki/Main_Page');

  // Click text=A magnitude 6.6 earthquake
  await page.locator('text=A magnitude 6.6 earthquake').click();
  await page.waitForURL('https://en.wikipedia.org/wiki/2022_Luding_earthquake');

  // Click #toc >> text=Earthquake
  await page.locator('#toc >> text=Earthquake').click();
  await page.waitForURL('https://en.wikipedia.org/wiki/2022_Luding_earthquake#Earthquake');

  // Click text=COVID-19 lockdown >> nth=0
  await page.locator('text=COVID-19 lockdown').first().click();
  await page.waitForURL('https://en.wikipedia.org/wiki/COVID-19_lockdown_in_China');

  // ---------------------
  await context.close();
  await browser.close();
})();